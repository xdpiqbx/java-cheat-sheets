# `String`

до **Java 9** строки представляли собой массив символов - `private final char value[];`

C **Java 9** строки хранятся как массив байт - `private final byte[] value;`

Строки в **Java** являются **immutable**;

Создать строку можно двумя способами:

- при помощи “строкового литерала” 
- конструктора - new String();

`Heap` – тут строки созданные при помощи конструктора;

`String pool` – тут уникальные значения строковых литералов;

`String pool` хранится в `Heap`, до **Java 7** хранился в памяти фиксированного размера – `PermGen`;

**Интернирование** - процесс помещения строк в пул;

Знак ` == ` сравнивает ссылки на объекты, а не их значения, а использование ` + ` порождает `new String()`;

**Интернирование** происходит **НЕ** в **runtime**, а во время **компиляции**;

~~Можно~~ **(но НЕ нужно)** вручную выполнить **интернирование** строки вызовом метода `intern()` у объекта типа ~~`new String().intern()`~~;

Вместо **интернирования** необходимо использовать **дедупликацию**;

**Дедупликация** переприсваивание виртуальной машиной адресов поля `value`.  `-XX:+UseStringDeduplication;`

---